{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/meal-planner-demo/meal-planner-demo/apps/web/src/app/_components/MealPlanWizard.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\n\ninterface MealPlanWizardProps {\n  onComplete: (preferences: MealPreferences) => void;\n}\n\nexport interface MealPreferences {\n  householdSize: number;\n  mealsPerDay: number;\n  days: number;\n  isVegetarian: boolean;\n  isDairyFree: boolean;\n  dislikes: string;\n}\n\nexport default function MealPlanWizard({ onComplete }: MealPlanWizardProps) {\n  const [householdSize, setHouseholdSize] = useState(2);\n  const [mealsPerDay, setMealsPerDay] = useState(1);\n  const [days, setDays] = useState(7);\n  const [isVegetarian, setIsVegetarian] = useState(false);\n  const [isDairyFree, setIsDairyFree] = useState(false);\n  const [dislikes, setDislikes] = useState('');\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onComplete({ householdSize, mealsPerDay, days, isVegetarian, isDairyFree, dislikes });\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-gray-900/50 p-4\">\n      <div className=\"w-full max-w-lg rounded-2xl bg-white p-8 shadow-xl\">\n        <h2 className=\"text-2xl font-semibold text-gray-900\">Let&apos;s plan your week!</h2>\n        <p className=\"mt-2 text-sm text-gray-600\">\n          Answer a few quick questions to get your personalised meal plan.\n        </p>\n\n        <form onSubmit={handleSubmit} className=\"mt-8 space-y-6\">\n          {/* Household size */}\n          <div>\n            <label htmlFor=\"householdSize\" className=\"block text-sm font-semibold text-gray-900\">\n              How many people?\n            </label>\n            <select\n              id=\"householdSize\"\n              value={householdSize}\n              onChange={(e) => setHouseholdSize(Number(e.target.value))}\n              className=\"mt-2 block w-full rounded-lg border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm transition focus:border-emerald-600 focus:outline-none focus:ring-1 focus:ring-emerald-600\"\n            >\n              {[1, 2, 3, 4, 5, 6].map((num) => (\n                <option key={num} value={num}>\n                  {num} {num === 1 ? 'person' : 'people'}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {/* Meals per day */}\n          <div>\n            <label htmlFor=\"mealsPerDay\" className=\"block text-sm font-semibold text-gray-900\">\n              How many meals per day?\n            </label>\n            <select\n              id=\"mealsPerDay\"\n              value={mealsPerDay}\n              onChange={(e) => setMealsPerDay(Number(e.target.value))}\n              className=\"mt-2 block w-full rounded-lg border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm transition focus:border-emerald-600 focus:outline-none focus:ring-1 focus:ring-emerald-600\"\n            >\n              <option value={1}>1 meal (Dinner only)</option>\n              <option value={2}>2 meals (Lunch & Dinner)</option>\n              <option value={3}>3 meals (All meals)</option>\n            </select>\n          </div>\n\n          {/* How many days */}\n          <div>\n            <label htmlFor=\"days\" className=\"block text-sm font-semibold text-gray-900\">\n              How many days to plan?\n            </label>\n            <select\n              id=\"days\"\n              value={days}\n              onChange={(e) => setDays(Number(e.target.value))}\n              className=\"mt-2 block w-full rounded-lg border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm transition focus:border-emerald-600 focus:outline-none focus:ring-1 focus:ring-emerald-600\"\n            >\n              {[3, 4, 5, 6, 7].map((num) => (\n                <option key={num} value={num}>\n                  {num} days\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {/* Diet preferences */}\n          <div className=\"space-y-3\">\n            <label className=\"block text-sm font-semibold text-gray-900\">\n              Dietary preferences\n            </label>\n            <div className=\"flex items-center gap-3\">\n              <input\n                type=\"checkbox\"\n                id=\"isVegetarian\"\n                checked={isVegetarian}\n                onChange={(e) => setIsVegetarian(e.target.checked)}\n                className=\"h-4 w-4 rounded border-gray-300 text-emerald-600 transition focus:ring-2 focus:ring-emerald-600\"\n              />\n              <label htmlFor=\"isVegetarian\" className=\"text-sm text-gray-700\">\n                Vegetarian\n              </label>\n            </div>\n            <div className=\"flex items-center gap-3\">\n              <input\n                type=\"checkbox\"\n                id=\"isDairyFree\"\n                checked={isDairyFree}\n                onChange={(e) => setIsDairyFree(e.target.checked)}\n                className=\"h-4 w-4 rounded border-gray-300 text-emerald-600 transition focus:ring-2 focus:ring-emerald-600\"\n              />\n              <label htmlFor=\"isDairyFree\" className=\"text-sm text-gray-700\">\n                Dairy-free\n              </label>\n            </div>\n          </div>\n\n          {/* Dislikes */}\n          <div>\n            <label htmlFor=\"dislikes\" className=\"block text-sm font-semibold text-gray-900\">\n              Foods to avoid (optional)\n            </label>\n            <input\n              type=\"text\"\n              id=\"dislikes\"\n              value={dislikes}\n              onChange={(e) => setDislikes(e.target.value)}\n              placeholder=\"e.g., mushrooms, olives\"\n              className=\"mt-2 block w-full rounded-lg border border-gray-300 bg-white px-4 py-3 text-gray-900 shadow-sm transition focus:border-emerald-600 focus:outline-none focus:ring-1 focus:ring-emerald-600\"\n            />\n            <p className=\"mt-1 text-xs text-gray-500\">Separate multiple items with commas</p>\n          </div>\n\n          {/* Submit button */}\n          <button\n            type=\"submit\"\n            className=\"w-full rounded-full bg-emerald-600 px-8 py-3 text-base font-semibold text-white shadow-sm transition hover:bg-emerald-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-600\"\n          >\n            Create My Plan\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 345, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/meal-planner-demo/meal-planner-demo/apps/web/src/app/_components/PremiumPreviewModal.tsx"],"sourcesContent":["'use client';\n\nimport storesData from '~/mockData/stores.json';\n\ninterface PremiumPreviewModalProps {\n  onClose: () => void;\n}\n\nexport default function PremiumPreviewModal({ onClose }: PremiumPreviewModalProps) {\n  const cheapestStore = storesData.find((store) => store.isCheapest);\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-gray-900/50 p-4\">\n      <div className=\"w-full max-w-2xl rounded-2xl bg-white p-8 shadow-xl\">\n        {/* Header */}\n        <div className=\"flex items-start justify-between\">\n          <div>\n            <h2 className=\"text-2xl font-semibold text-gray-900\">Price Comparison</h2>\n            <p className=\"mt-1 text-sm text-gray-600\">\n              See which supermarket offers the best value for your shopping list\n            </p>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"rounded-lg p-2 text-gray-400 transition hover:bg-gray-100 hover:text-gray-600\"\n            aria-label=\"Close modal\"\n          >\n            <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M6 18L18 6M6 6l12 12\"\n              />\n            </svg>\n          </button>\n        </div>\n\n        {/* Premium badge */}\n        <div className=\"mt-6 inline-flex items-center gap-2 rounded-full bg-emerald-100 px-4 py-2 text-sm font-semibold text-emerald-700\">\n          <span>‚ú®</span>\n          <span>Premium Feature Preview</span>\n        </div>\n\n        {/* Price comparison table */}\n        <div className=\"mt-6 overflow-hidden rounded-xl border border-gray-200\">\n          <table className=\"w-full\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-sm font-semibold text-gray-900\">Store</th>\n                <th className=\"px-6 py-3 text-right text-sm font-semibold text-gray-900\">Total</th>\n                <th className=\"px-6 py-3 text-right text-sm font-semibold text-gray-900\">\n                  Estimated Savings\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-gray-200 bg-white\">\n              {storesData.map((store) => (\n                <tr key={store.name} className={store.isCheapest ? 'bg-emerald-50' : ''}>\n                  <td className=\"px-6 py-4\">\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"text-sm font-semibold text-gray-900\">{store.name}</span>\n                      {store.isCheapest && (\n                        <span className=\"rounded-full bg-emerald-600 px-2 py-0.5 text-xs font-semibold text-white\">\n                          Best Value\n                        </span>\n                      )}\n                    </div>\n                  </td>\n                  <td className=\"px-6 py-4 text-right text-sm font-semibold text-gray-900\">\n                    ‚Ç¨{store.total.toFixed(2)}\n                  </td>\n                  <td className=\"px-6 py-4 text-right text-sm\">\n                    {store.savings === 0 ? (\n                      <span className=\"text-gray-500\">‚Äî</span>\n                    ) : (\n                      <span className=\"font-semibold text-red-600\">\n                        ‚Ç¨{store.savings.toFixed(2)}\n                      </span>\n                    )}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n\n        {/* Info box */}\n        <div className=\"mt-6 rounded-lg bg-emerald-50 p-4\">\n          <p className=\"text-sm text-emerald-900\">\n            üí° <strong>With Premium:</strong> Shop at {cheapestStore?.name} this week and save up to{' '}\n            ‚Ç¨{Math.abs(storesData[storesData.length - 1]?.savings ?? 0).toFixed(2)} compared to\n            other stores!\n          </p>\n        </div>\n\n        {/* CTA */}\n        <div className=\"mt-8 space-y-3\">\n          <button\n            onClick={onClose}\n            className=\"w-full rounded-full bg-emerald-600 px-8 py-3 text-base font-semibold text-white shadow-sm transition hover:bg-emerald-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-600\"\n          >\n            Upgrade to Unlock Real Comparisons\n          </button>\n          <p className=\"text-center text-xs text-gray-500\">\n            Prototype pricing only ‚Ä¢ Real prices available with Premium subscription\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAQe,SAAS,oBAAoB,EAAE,OAAO,EAA4B;IAC/E,MAAM,gBAAgB,2HAAU,CAAC,IAAI,CAAC,CAAC,QAAU,MAAM,UAAU;IAEjE,qBACE,+YAAC;QAAI,WAAU;kBACb,cAAA,+YAAC;YAAI,WAAU;;8BAEb,+YAAC;oBAAI,WAAU;;sCACb,+YAAC;;8CACC,+YAAC;oCAAG,WAAU;8CAAuC;;;;;;8CACrD,+YAAC;oCAAE,WAAU;8CAA6B;;;;;;;;;;;;sCAI5C,+YAAC;4BACC,SAAS;4BACT,WAAU;4BACV,cAAW;sCAEX,cAAA,+YAAC;gCAAI,WAAU;gCAAU,MAAK;gCAAO,SAAQ;gCAAY,QAAO;0CAC9D,cAAA,+YAAC;oCACC,eAAc;oCACd,gBAAe;oCACf,aAAa;oCACb,GAAE;;;;;;;;;;;;;;;;;;;;;;8BAOV,+YAAC;oBAAI,WAAU;;sCACb,+YAAC;sCAAK;;;;;;sCACN,+YAAC;sCAAK;;;;;;;;;;;;8BAIR,+YAAC;oBAAI,WAAU;8BACb,cAAA,+YAAC;wBAAM,WAAU;;0CACf,+YAAC;gCAAM,WAAU;0CACf,cAAA,+YAAC;;sDACC,+YAAC;4CAAG,WAAU;sDAA0D;;;;;;sDACxE,+YAAC;4CAAG,WAAU;sDAA2D;;;;;;sDACzE,+YAAC;4CAAG,WAAU;sDAA2D;;;;;;;;;;;;;;;;;0CAK7E,+YAAC;gCAAM,WAAU;0CACd,2HAAU,CAAC,GAAG,CAAC,CAAC,sBACf,+YAAC;wCAAoB,WAAW,MAAM,UAAU,GAAG,kBAAkB;;0DACnE,+YAAC;gDAAG,WAAU;0DACZ,cAAA,+YAAC;oDAAI,WAAU;;sEACb,+YAAC;4DAAK,WAAU;sEAAuC,MAAM,IAAI;;;;;;wDAChE,MAAM,UAAU,kBACf,+YAAC;4DAAK,WAAU;sEAA2E;;;;;;;;;;;;;;;;;0DAMjG,+YAAC;gDAAG,WAAU;;oDAA2D;oDACrE,MAAM,KAAK,CAAC,OAAO,CAAC;;;;;;;0DAExB,+YAAC;gDAAG,WAAU;0DACX,MAAM,OAAO,KAAK,kBACjB,+YAAC;oDAAK,WAAU;8DAAgB;;;;;yEAEhC,+YAAC;oDAAK,WAAU;;wDAA6B;wDACzC,MAAM,OAAO,CAAC,OAAO,CAAC;;;;;;;;;;;;;uCAnBvB,MAAM,IAAI;;;;;;;;;;;;;;;;;;;;;8BA8B3B,+YAAC;oBAAI,WAAU;8BACb,cAAA,+YAAC;wBAAE,WAAU;;4BAA2B;0CACnC,+YAAC;0CAAO;;;;;;4BAAsB;4BAAU,eAAe;4BAAK;4BAA0B;4BAAI;4BAC3F,KAAK,GAAG,CAAC,2HAAU,CAAC,2HAAU,CAAC,MAAM,GAAG,EAAE,EAAE,WAAW,GAAG,OAAO,CAAC;4BAAG;;;;;;;;;;;;8BAM3E,+YAAC;oBAAI,WAAU;;sCACb,+YAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;sCAGD,+YAAC;4BAAE,WAAU;sCAAoC;;;;;;;;;;;;;;;;;;;;;;;AAO3D","debugId":null}},
    {"offset": {"line": 658, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/work/meal-planner-demo/meal-planner-demo/apps/web/src/app/planner/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { api } from '~/trpc/react';\nimport MealPlanWizard, { type MealPreferences } from '~/app/_components/MealPlanWizard';\nimport PremiumPreviewModal from '~/app/_components/PremiumPreviewModal';\nimport Image from 'next/image';\n\ntype Step = 'wizard' | 'plan' | 'shopping';\n\nexport default function PlannerPage() {\n  const [step, setStep] = useState<Step>('wizard');\n  const [mealPlanId, setMealPlanId] = useState<string | null>(null);\n  const [preferences, setPreferences] = useState<MealPreferences | null>(null);\n  const [showPremiumModal, setShowPremiumModal] = useState(false);\n\n  const generateMealPlan = api.mealPlan.generate.useMutation({\n    onSuccess: (data) => {\n      setMealPlanId(data.id);\n      setStep('plan');\n    },\n  });\n\n  const { data: mealPlan } = api.mealPlan.getCurrent.useQuery(undefined, {\n    enabled: step === 'plan' && mealPlanId !== null,\n  });\n\n  const { data: shoppingList } = api.shoppingList.getForMealPlan.useQuery(\n    { mealPlanId: mealPlanId! },\n    { enabled: step === 'shopping' && mealPlanId !== null }\n  );\n\n  const handleWizardComplete = (prefs: MealPreferences) => {\n    setPreferences(prefs);\n    generateMealPlan.mutate(prefs);\n  };\n\n  const handleViewShoppingList = () => {\n    setStep('shopping');\n  };\n\n  const handleComparePrices = () => {\n    setShowPremiumModal(true);\n  };\n\n  const handleClosePremiumModal = () => {\n    setShowPremiumModal(false);\n  };\n\n  const handleExportCSV = () => {\n    if (!mealPlanId) return;\n    \n    // Trigger CSV download\n    const url = `/api/trpc/shoppingList.exportCSV?input=${encodeURIComponent(JSON.stringify({ mealPlanId }))}`;\n    window.open(url, '_blank');\n  };\n\n  return (\n    <main className=\"min-h-screen\">\n      {/* Wizard Step */}\n      {step === 'wizard' && <MealPlanWizard onComplete={handleWizardComplete} />}\n\n      {/* Loading State */}\n      {generateMealPlan.isPending && (\n        <div className=\"flex min-h-screen items-center justify-center bg-gray-50\">\n          <div className=\"text-center\">\n            <div className=\"mb-4 inline-block h-12 w-12 animate-spin rounded-full border-4 border-solid border-emerald-600 border-r-transparent\"></div>\n            <p className=\"text-lg font-semibold text-gray-900\">Creating your meal plan...</p>\n          </div>\n        </div>\n      )}\n\n      {/* Error State */}\n      {generateMealPlan.isError && (\n        <div className=\"flex min-h-screen items-center justify-center bg-gray-50 px-6\">\n          <div className=\"max-w-md rounded-xl bg-white p-8 text-center shadow-lg\">\n            <p className=\"text-lg font-semibold text-red-600\">Failed to generate meal plan</p>\n            <p className=\"mt-2 text-sm text-gray-600\">{generateMealPlan.error.message}</p>\n            <button\n              onClick={() => setStep('wizard')}\n              className=\"mt-6 rounded-full bg-emerald-600 px-6 py-2 text-sm font-semibold text-white hover:bg-emerald-700\"\n            >\n              Try Again\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Meal Plan View */}\n      {step === 'plan' && mealPlan && preferences && (\n        <div className=\"min-h-screen bg-gray-50 py-12\">\n          <div className=\"mx-auto max-w-7xl px-6\">\n            {/* Header */}\n            <div className=\"mb-8 text-center\">\n              <h1 className=\"text-3xl font-semibold text-gray-900 sm:text-4xl\">\n                Your Weekly Meal Plan\n              </h1>\n              <p className=\"mt-2 text-base text-gray-600\">\n                {preferences.days} days ¬∑ {preferences.mealsPerDay}{' '}\n                {preferences.mealsPerDay === 1 ? 'meal' : 'meals'}/day ¬∑ {preferences.householdSize}{' '}\n                {preferences.householdSize === 1 ? 'person' : 'people'}\n              </p>\n              <div className=\"mt-4 inline-flex flex-wrap items-center gap-2\">\n                {preferences.isVegetarian && (\n                  <span className=\"rounded-full bg-emerald-100 px-4 py-2 text-sm font-semibold text-emerald-700\">\n                    üå± Vegetarian\n                  </span>\n                )}\n                {preferences.isDairyFree && (\n                  <span className=\"rounded-full bg-blue-100 px-4 py-2 text-sm font-semibold text-blue-700\">\n                    ü•õ Dairy-free\n                  </span>\n                )}\n              </div>\n            </div>\n\n            {/* Recipe grid */}\n            <div className=\"grid gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n              {mealPlan.items.map((item) => (\n                <div\n                  key={item.id}\n                  className=\"group overflow-hidden rounded-xl bg-white shadow-sm ring-1 ring-gray-200 transition hover:shadow-md\"\n                >\n                  {/* Recipe image */}\n                  <div className=\"relative aspect-[4/3] overflow-hidden bg-gray-200\">\n                    {item.recipe.imageUrl && (\n                      <Image\n                        src={item.recipe.imageUrl}\n                        alt={item.recipe.title}\n                        fill\n                        className=\"object-cover transition group-hover:scale-105\"\n                      />\n                    )}\n                    {/* Day badge */}\n                    <div className=\"absolute left-3 top-3 rounded-full bg-white/90 px-3 py-1 text-xs font-semibold text-gray-900 backdrop-blur-sm\">\n                      Day {item.dayIndex + 1} ¬∑ {item.mealType}\n                    </div>\n                  </div>\n\n                  {/* Recipe details */}\n                  <div className=\"p-4\">\n                    <h3 className=\"text-lg font-semibold text-gray-900\">{item.recipe.title}</h3>\n                    <div className=\"mt-3 flex items-center gap-4 text-sm text-gray-600\">\n                      <span className=\"flex items-center gap-1\">\n                        <span>‚è±Ô∏è</span>\n                        <span>{item.recipe.minutes} min</span>\n                      </span>\n                      <span className=\"flex items-center gap-1\">\n                        <span>üî•</span>\n                        <span>{item.recipe.calories} kcal</span>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            {/* CTA button */}\n            <div className=\"mt-12 text-center\">\n              <button\n                onClick={handleViewShoppingList}\n                className=\"rounded-full bg-emerald-600 px-8 py-3 text-base font-semibold text-white shadow-sm transition hover:bg-emerald-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-600\"\n              >\n                View Shopping List\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Shopping List */}\n      {step === 'shopping' && shoppingList && (\n        <div className=\"min-h-screen bg-gray-50 py-12\">\n          <div className=\"mx-auto max-w-5xl px-6\">\n            {/* Header */}\n            <div className=\"mb-8 text-center\">\n              <h1 className=\"text-3xl font-semibold text-gray-900 sm:text-4xl\">\n                Your Shopping List\n              </h1>\n              <p className=\"mt-2 text-base text-gray-600\">\n                {shoppingList.totalItems} items for your meal plan\n              </p>\n            </div>\n\n            {/* Shopping list by category */}\n            <div className=\"space-y-6\">\n              {Object.entries(shoppingList.grouped).map(([category, items]) => (\n                <div\n                  key={category}\n                  className=\"rounded-xl bg-white p-6 shadow-sm ring-1 ring-gray-200\"\n                >\n                  <h2 className=\"text-lg font-semibold capitalize text-gray-900\">{category}</h2>\n                  <ul className=\"mt-4 space-y-3\">\n                    {items.map((item) => (\n                      <li key={item.ingredientId} className=\"flex items-center gap-3\">\n                        <span className=\"h-5 w-5 flex-shrink-0 text-emerald-600\">‚úì</span>\n                        <span className=\"flex-1 text-sm text-gray-700\">\n                          {item.ingredientName} - {item.formattedQuantity}\n                        </span>\n                      </li>\n                    ))}\n                  </ul>\n                </div>\n              ))}\n            </div>\n\n            {/* Price comparison */}\n            {shoppingList.cheapestStore && (\n              <div className=\"mt-8 rounded-xl bg-emerald-50 p-6 ring-1 ring-emerald-200\">\n                <h2 className=\"text-lg font-semibold text-gray-900\">Price Estimate</h2>\n                <p className=\"mt-2 text-2xl font-bold text-emerald-600\">\n                  ‚Ç¨{shoppingList.cheapestStore.totalPrice.toFixed(2)}\n                </p>\n                <p className=\"mt-1 text-sm text-gray-600\">\n                  Estimated total at {shoppingList.cheapestStore.store}\n                </p>\n                <div className=\"mt-4 space-y-2\">\n                  {shoppingList.storePrices.map((store) => (\n                    <div key={store.store} className=\"flex justify-between text-sm\">\n                      <span className=\"text-gray-700\">{store.store}</span>\n                      <span className=\"font-semibold text-gray-900\">\n                        ‚Ç¨{store.totalPrice.toFixed(2)}\n                      </span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Action buttons */}\n            <div className=\"mt-12 flex justify-center gap-4\">\n              <button\n                onClick={handleExportCSV}\n                className=\"rounded-full border border-gray-300 bg-white px-8 py-3 text-base font-semibold text-gray-900 shadow-sm transition hover:bg-gray-50\"\n              >\n                Export CSV\n              </button>\n              <button\n                onClick={handleComparePrices}\n                className=\"rounded-full bg-emerald-600 px-8 py-3 text-base font-semibold text-white shadow-sm transition hover:bg-emerald-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-600\"\n              >\n                Compare Prices (Premium)\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Premium Preview Modal */}\n      {showPremiumModal && <PremiumPreviewModal onClose={handleClosePremiumModal} />}\n    </main>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}