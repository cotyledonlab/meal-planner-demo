# Since the ".env" file is gitignored, you can use the ".env.example" file to
# build a new ".env" file when you clone the repo. Keep this file up-to-date
# when you add new variables to `.env`.

# This file will be committed to version control, so make sure not to have any
# secrets in it. If you are cloning this repo, create a copy of this file named
# ".env" and populate it with your secrets.

# When adding additional environment variables, the schema in "/apps/web/src/env.js"
# should be updated accordingly.

# Next Auth
# You can generate a new secret on the command line with:
# npx auth secret
# https://next-auth.js.org/configuration/options#secret
AUTH_SECRET=""

# Next Auth Discord Provider
AUTH_DISCORD_ID=""
AUTH_DISCORD_SECRET=""

# Prisma
# https://www.prisma.io/docs/reference/database-reference/connection-urls#env
# For local development (using Docker Compose services):
DATABASE_URL="postgresql://postgres:password@localhost:5432/meal-planner-demo?connection_limit=10&pool_timeout=30&connect_timeout=30"
# For production/Dokploy (will be set via environment secrets):
# DATABASE_URL="postgresql://user:password@host:5432/database?connection_limit=10&pool_timeout=30&connect_timeout=30"
# Connection pool parameters:
#   - connection_limit: Maximum number of connections in the pool (default: 10)
#   - pool_timeout: Maximum time (seconds) to wait for a connection from pool (default: 30)
#   - connect_timeout: Maximum time (seconds) to wait for initial database connection (default: 30)
# For SQLite (local development alternative):
# DATABASE_URL="file:./dev.db"

# Seed data (used by `pnpm db:seed`)
# Required for production seeding; optional for local dev.
SEED_USER_PASSWORD=""

# Web app and service ports (used by docker-compose)
# If port 3000 is in use on your host/Dokploy server, set WEB_PORT to a unique value (e.g., 3008)
WEB_PORT=3000
POSTGRES_PORT=5432
MAILPIT_WEB_PORT=8025
MAILPIT_SMTP_PORT=1025

# NEXTAUTH_URL
# For local: keep as http://localhost:${WEB_PORT}
# For Dokploy/production: set to your public URL (https) including basePath
# Example: https://cotyledonlab.com/demos/meal-planner
NEXTAUTH_URL="http://localhost:${WEB_PORT}"

# Custom Domain Configuration (for production deployment)
# Your domain name (configure in Dokploy's domain settings)
DOMAIN="cotyledonlab.com"

# Base path for serving app from subdirectory
# Set to "/demos/meal-planner" for subdirectory deployment (must match Dokploy path config)
# Set to empty string "" for root deployment
# Important: This must match the path configured in Dokploy's domain settings
BASE_PATH="/demos/meal-planner"

# SMTP configuration
# Local development (Mailpit): host mailpit, port 1025, no auth required
# Production (Mailersend): host smtp.mailersend.net, port 587, auth with SMTP user/password
# If SMTP_FROM is left empty, the app will send using the SMTP_USER address.
SMTP_HOST="mailpit"
SMTP_PORT=1025
SMTP_USER=""
SMTP_PASS=""
SMTP_FROM=""

# Gemini image generation (admin dashboard feature)
# Option 1: Vertex AI (recommended - broader availability)
# Set GEMINI_USE_VERTEX_AI=true and configure your GCP project
# Requires: gcloud auth application-default login
GEMINI_USE_VERTEX_AI="true"
GOOGLE_CLOUD_PROJECT=""
GOOGLE_CLOUD_LOCATION="us-central1"

# Option 2: Gemini API directly (geo-restricted)
# Set GEMINI_USE_VERTEX_AI=false and provide API key
# GEMINI_USE_VERTEX_AI="false"
# GEMINI_API_KEY=""

# Model configuration (works with both options)
# Nano Banana Pro (best quality): gemini-3-pro-image-preview
# Nano Banana (faster): gemini-2.5-flash-image
GEMINI_IMAGE_MODEL="gemini-3-pro-image-preview"
GEMINI_IMAGE_FALLBACK_MODEL="gemini-2.5-flash-image"
GEMINI_TEXT_MODEL="gemini-2.5-flash"
